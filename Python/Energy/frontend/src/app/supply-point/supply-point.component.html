<div class="container mt-3">
  <h1>Supply point</h1>

  <form (ngSubmit)="onSubmit()" [formGroup]="editForm">
    
    <div class="form-group">
      <input type="hidden" class="form-control" formControlName="id">
    </div>

    <div class="form-group">
      <label>Name</label>
      <input type="text" class="form-control" formControlName="name">
    </div>

    <div class="form-group">
      <label>Address</label>
      <input type="text" class="form-control" formControlName="address">
    </div>

    <div class="form-group">
      <label>Comment</label>
      <input type="text" class="form-control" formControlName="comment">
    </div>

    <button type="button" class="btn btn-primary" (click)="onAddMeasuredValue()">Add</button>
    <div formArrayName="measuredValues">
      <h4>Measured values</h4>
      <div class="form-group" [formGroup]="measValCtrl" *ngFor="let measValCtrl of editForm.get('measuredValues').controls; let i = index">
        
        <div class="form-group">
          <input type="hidden" class="form-control" formControlName="id">
        </div>

        <div class="form-group">
          <input type="hidden" class="form-control" formControlName="supplyPointId">
        </div>

        <div class="form-group">
          <label>Name</label>
          <input type="text" class="form-control" formControlName="name">
        </div>

        <div class="form-group">
          <label>Unit</label>
          <input type="text" class="form-control" formControlName="unit">
        </div>

        <div class="form-group">
          <label>Is required</label>
          <input type="checkbox" class="form-control" formControlName="isRequired">
        </div>

      </div>
    </div>
 
    <button class="btn btn-primary mt-3" type="submit" [disabled]="!editForm.valid">Save</button>
  </form>
  
</div>